@model IEnumerable<AppMVC.Models.Movie>

@{
    ViewBag.Title = "Index";
}

<h2>Сите Филмови</h2>
@if (User.IsInRole("Admin"))
{


<p>
    
    
    @Html.ActionLink("Креирај нов филм", "Create")
    
</p>
}
<table class="table">
    @foreach (var item in Model)
    {
        <tr class="row">
            <td class="col-sm-3">
                <img src="@Url.Content(item.ImgUrl)" alt="Image" width="200" height="300" />
            </td>
            <td class="col-sm-9">
                <h2>
                    @Html.DisplayFor(modelItem => item.Title)
                </h2>
                @Html.DisplayFor(modelItem => item.Genre.Name)<br />

                Рејтинг   :  @Html.DisplayFor(modelItem => item.Rating)<br />
                @Html.DisplayFor(modelItem => item.Duration)  мин <br />
                Цена на карта    :  @Html.DisplayFor(modelItem => item.PriceForTcket)<br />
                @if (User.IsInRole("Editor") || User.IsInRole("Admin"))
                {
                    <p>
                        @Html.ActionLink("Едитирај", "Edit", new { id = item.MovieId }) |

                        @Html.ActionLink("Избриши", "Delete", new { id = item.MovieId }) |
                    </p>
                }
                @Html.ActionLink("Детали", "Details", new { id = item.MovieId }) 

            </td>
        </tr>
    }
</table>

